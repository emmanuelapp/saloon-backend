@import common.models.event.Event
@import common.models.event.Session
@import common.models.event.Attendee
@import common.models.user.User
@import common.views.html.format._
@import backend.views.html._
@import backend.views.html.partials._
@(session: Session, sessionSpeakers: List[Attendee], event: Event)(implicit lang: Lang, flash: Flash, req: RequestHeader, user: User)
@main(session.name){
	@header()
	@breadcrumb(session.name, (backend.controllers.routes.Application.index(), "Accueil"), (backend.controllers.routes.Events.list(), "Événements"), (backend.controllers.routes.Events.details(event.uuid), event.name), (backend.controllers.routes.Sessions.list(event.uuid), "Sessions"))
	<section id="main">
		@sidebar(user)
		<section id="content">
			<div class="container">
				<div class="card">
					<div class="card-header ch-alt">
						<h2>
							@session.name
							<small>
								@if(!session.info.place.isEmpty){@session.info.place}
								@session.info.start.orElse(session.info.end).map(d => if(!session.info.place.isEmpty){", "} + "le " + d.toString("EEEE dd MMMM")).getOrElse("")
								@if(session.info.start.isDefined && session.info.end.isDefined){de @session.info.start.get.toString("hh'h'mm") à @session.info.end.get.toString("hh'h'mm")}
								@if(session.info.start.isDefined && session.info.end.isEmpty){à @session.info.start.get.toString("hh'h'mm")}
								@if(session.info.start.isEmpty && session.info.end.isDefined){jusqu'à @session.info.end.get.toString("hh'h'mm")}
								@if(!session.info.format.isEmpty){<span class="label label-primary">@session.info.format</span>}
								@if(!session.info.category.isEmpty){<span class="label label-danger">@session.info.category</span>}
							</small>
						</h2>
						<ul class="actions">
						<li><a href="@backend.controllers.routes.Sessions.update(event.uuid, session.uuid)"><i class="md md-edit"></i></a></li>
						<li><form method="POST" action="@backend.controllers.routes.Sessions.delete(event.uuid, session.uuid)"><button type="submit" class="confirm"><i class="md md-delete"></i></button></form></li>
						</ul>
					</div>
					<div class="card-body card-padding">
						<h2><i class="md md-format-align-left m-r-5"></i> Description</h2>
						@textMultiline(session.description)
						@if(sessionSpeakers.length > 0){
							<h2><i class="md md-people m-r-5"></i> Speakers</h2>
							@sessionSpeakers.map { attendee =>
								<div class="media media-avatar">
									<div class="pull-left">
										<a href="@backend.controllers.routes.Attendees.details(event.uuid, attendee.uuid)"><img class="media-object" src="@attendee.images.avatar" alt=""></a>
									</div>
									<div class="media-body">
										<h4 class="media-heading"><a href="@backend.controllers.routes.Attendees.details(event.uuid, attendee.uuid)">@attendee.name</a></h4>
										<p class="media-line">@attendee.description</p>
										<p class="media-line">
											@attendee.info.website.map { url => <a href="@url" target="_blank"><i class="md md-link"></i></a> }.getOrElse("")
											@attendee.social.blogUrl.map { url => <a href="@url" target="_blank"><i class="md md-messenger"></i></a> }.getOrElse("")
											@attendee.social.facebookUrl.map { url => <a href="@url" target="_blank"><i class="socicon socicon-facebook"></i></a> }.getOrElse("")
											@attendee.social.twitterUrl.map { url => <a href="@url" target="_blank"><i class="socicon socicon-twitter"></i></a> }.getOrElse("")
											@attendee.social.linkedinUrl.map { url => <a href="@url" target="_blank"><i class="socicon socicon-linkedin"></i></a> }.getOrElse("")
											@attendee.social.githubUrl.map { url => <a href="@url" target="_blank"><i class="socicon socicon-github"></i></a> }.getOrElse("")
										</p>
									</div>
								</div>
							}
						}
					</div>
				</div>
			</div>
		</section>
	</section>
	@footer()
}