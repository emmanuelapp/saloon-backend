@import common.models.event.Event
@import common.models.user.User
@import backend.views.html._
@import backend.views.html.partials._
@(events: List[(Event, Int, Int, Int, Int)])(implicit lang: Lang, flash: Flash, req: RequestHeader, user: User)
@main("SalooN"){
	@header()
	@breadcrumb("Événements", (backend.controllers.routes.Application.index(), "Accueil"))
	<section id="main">
		@sidebar(user)
		<section id="content">
			<div class="container">
				<div class="block-header">
					<h2>Événements organisés</h2>
					<ul class="actions">
						<li><a href="@backend.controllers.routes.Events.create()" title="Créer un nouvel événement"><i class="md md-add"></i></a></li>
					</ul>
				</div>
				@events.sliding(3, 3).map { row =>
					<div class="row">
						@row.map { case (event, attendeeCount, sessionCount, exponentCount, actionCount) =>
							<a class="col-sm-4" href="@backend.controllers.routes.Events.details(event.uuid)">
								<div class="card blog-post">
									<div class="bp-header">
										<img src="@event.images.landing" alt="">
										<!-- <i class="md md-done"></i>
										<i class="md md-done-all"></i>
										<i class="md md-visibility"></i>
										<i class="md md-flash-on"></i>
										<i class="md md-public"></i> -->
										@if(event.config.published){<span class="badge-corner badge-corner-green" title="publié"><span class="md md-public"></span></span>}
										<div class="bp-title">
											<h2 class="one-line">@event.name</h2>
											<small>@attendeeCount participants, @sessionCount sessions, @exponentCount exposants, @actionCount actions</small>
										</div>
									</div>
								</div>
							</a>
						}
					</div>
				}
			</div>
		</section>
	</section>
	@footer()
}