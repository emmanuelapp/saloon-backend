@import org.joda.time.DateTime
@import conferences.models.Conference
@(context: String, conferenceList: List[Conference], tags: List[(String, Int)])(implicit lang: Lang, flash: Flash, req: RequestHeader)

@main(if(context == "future"){"Conférences à venir"} else if(context == "past") {"Conférences passées"} else {"Recherche de conférences"}){
    @partials.header("list")

    <div class="container" role="main">
        @if(context != "search") {
            <div class="jumbotron">
                <p>
                    Ce site collaboratif propose de lister les conférences à venir.<br>
                    Plutôt centré sur la France et les conférences techniques mais il reste ouvert à tout :)<br>
                    Le but est de centraliser les informations afin qu'il soit plus simple de trouver une conférence, la planifier, postuler à un CFP, revoir les vidéos...<br>
                    Merci de ne pas ajouter de Meetups.
                </p>
            </div>
        }

        <ul class="nav nav-tabs">
            <li role="presentation" @if(context == "future"){class="active"}><a href="@conferences.controllers.routes.Application.list()">À venir</a></li>
            <li role="presentation" @if(context == "past"){class="active"}><a href="@conferences.controllers.routes.Application.search(section = Some("past"), before = Some(new DateTime().toString("dd/MM/yyyy")))">Passées</a></li>
        </ul>

        <div class="row">
            <div class="col-md-3 col-md-push-9">
                @partials.search(tags)
            </div>
            <div class="col-md-9 col-md-pull-3">
                @if(conferenceList.length == 0) {
                    <p class="not-found">
                        @context match {
                            case "future" => {Aucune conférence à venir...}
                            case "past" => {Aucune conférence passée...}
                            case "search" => {Aucune conférence pour cette recherche...}
                            case _ => {Aucune conférence...}
                        }
                    </p>
                }
                @conferenceList.map { conference =>
                    @partials.conferenceCard(conference, "public")
                }
            </div>
        </div>
    </div>

    @partials.footer()
}
