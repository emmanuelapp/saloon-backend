@import common.views.App
@import conferences.models.Conference
@(context: String, conferenceList: List[Conference])(implicit lang: Lang, flash: Flash, req: RequestHeader)

@main(if(context == "future"){"Conférences à venir"} else if(context == "past") {"Conférences passées"} else {"Recherche de conférences"}){
    @partials.header(context+"-list")

    <div class="container" role="main">
        <div class="row">
            <div class="col-md-12">
                @partials.search()
            </div>
        </div>

        @if(!App.isMobile() && conferenceList.filter(_.location.isDefined).length > 0) {
            <div class="row">
                <div class="col-md-12">
                    @partials.mapView(conferenceList.filter(_.location.isDefined))
                </div>
            </div>
        }

        <div class="row">
            <div class="col-md-12">
                @if(conferenceList.length == 0) {
                    <p class="not-found">
                        @context match {
                            case "future" => {Aucune conférence à venir...}
                            case "past" => {Aucune conférence passée...}
                            case "search" => {Aucune conférence pour cette recherche...}
                            case _ => {Aucune conférence...}
                        }
                    </p>
                }
                @conferenceList.map { conference =>
                    @req.getQueryString("fmt") match {
                        case Some("old") => { @partials.conferenceCard(conference, "public") }
                        case Some("alt") => { @partials.conferenceCardLightAlt(conference, "public") }
                        case _ => { @partials.conferenceCardLight(conference, "public") }
                    }
                }
                @partials.subscribe()
            </div>
        </div>
    </div>

    @partials.footer()
}
