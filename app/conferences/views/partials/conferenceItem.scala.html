@import conferences.models.Conference
@import common.views.html.format._
@(conference: Conference)
<div class="well">
    <a href="@conferences.controllers.routes.Application.edit(conference.id)" class="close"><i class="fa fa-pencil"></i></a>
    <div class="row">
        <div class="col-md-8">
            <h2>@conference.name</h2>
            @conference.description.map { description =>
                <blockquote>
                    <p>@description</p>
                </blockquote>
            }
            @conference.cfp.map { cfp =>
                <p>
                    @if(cfp.opened){<span class="label label-success">ouvert</span>} else {<span class="label label-danger">fermé</span>}
                    <strong><a href="@cfp.siteUrl" target="_blank">Call For Paper</a></strong> :
                    jusqu'au <strong>@date(cfp.end)</strong>
                </p>
            }
            @conference.tickets.map { tickets =>
                <p>
                    @if(tickets.opened){<span class="label label-success">ouvert</span>} else {<span class="label label-danger">fermé</span>}
                    <strong><a href="@tickets.siteUrl" target="_blank">Tickets</a></strong> :
                    @tickets.price.map{ p => <strong>@p</strong>, }
                    jusqu'au <strong>@date(tickets.end)</strong>
                </p>
            }
            <div role="group">
                <a href="@conference.siteUrl" target="_blank" class="btn btn-default"><i class="fa fa-globe"></i> Site officiel</a>
                @conference.videosUrl.map{url => <a href="@url" target="_blank" class="btn btn-default"><i class="fa fa-video-camera"></i> Vidéos</a>}
                @conference.social.flatMap(_.twitter.flatMap(_.account)).map { account =>
                    <a href="https://twitter.com/@account" target="_blank" class="btn btn-default"><i class="fa fa-twitter"></i> @@@account</a>
                }
                @conference.social.flatMap(_.twitter.flatMap(_.hashtag)).map { hashtag =>
                    <a href="https://twitter.com/search?q=%23@hashtag" target="_blank" class="btn btn-default"><i class="fa fa-twitter"></i> #@hashtag</a>
                }
            </div>
            Created: @datetime(conference.created)
        </div>
        <div class="col-md-4">
            <h4>@period(Some(conference.start), Some(conference.end))</h4>
            @conference.venue.map { venue =>
                <address>
                    @venue.name.map { name => <strong>@name</strong><br> }
                    @venue.street<br>
                    @venue.zipCode @venue.city, @venue.country<br>
                </address>
            }
            @if(conference.tags.length > 0) {
                <p>
                    @conference.tags.map { tag =>
                        <a href="@conferences.controllers.routes.Application.search(tags = Some(tag))" class="label label-primary">@tag</a>
                    }
                </p>
            }
            @conference.metrics.map { metrics =>
                <ul>
                    @metrics.attendeeCount.map { c => <li>@c personnes</li> }
                    @metrics.sessionCount.map { c => <li>@c sessions</li> }
                    @metrics.sinceYear.map { c => <li>Depuis @c</li> }
                </ul>
            }
        </div>
    </div>
</div>